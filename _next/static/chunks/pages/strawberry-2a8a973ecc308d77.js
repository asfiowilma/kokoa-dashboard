(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{4433:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/strawberry",function(){return t(4274)}])},366:function(e,s,t){"use strict";t.d(s,{Z:function(){return w}});var a=t(5893),r=t(9008),n=t.n(r),l=t(4529),i=t(4466);let c=(0,l.Ue)()((0,i.tJ)((e,s)=>({isExpanded:!1,setIsExpanded:s=>e({isExpanded:s})}),{name:"sidebar-state"}));var d=t(9121),o=t(8193),u=t(2585),x=t(471),h=t(4955),m=t(1664),j=t.n(m),f=t(1163);function b(e){let{href:s,exact:t,children:r,className:n}=e,{pathname:l}=(0,f.useRouter)(),i=t?l===s:l.startsWith(s);return(0,a.jsx)(j(),{href:s,as:"production"==h.Vi?"/kokoa-dashboard".concat(s):s,className:"".concat(n," ").concat(i?"active":""),children:r})}function g(){let{isExpanded:e,setIsExpanded:s}=c();return e?(0,a.jsx)(p,{setIsExpanded:s}):(0,a.jsx)(v,{setIsExpanded:s})}function p(e){let{setIsExpanded:s}=e,{activities:t}=(0,d.D)();return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-base-100 rounded-box shadow-lg transition transform origin-top-left",children:[(0,a.jsxs)("ul",{className:"flex-1 menu rounded-box p-4 w-42 lg:w-60 overflow-y-auto ",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/",exact:!0,children:[(0,a.jsx)(o.V9Z,{className:"w-6 h-6 mr-2"})," Dashboard"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/settings",exact:!0,children:[(0,a.jsx)(o.xRF,{className:"w-6 h-6 mr-2"})," Settings"]})}),(0,a.jsx)("li",{className:"menu-title mt-4 mb-1",children:(0,a.jsx)("span",{children:"Notifiers"})}),(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/skelefire",exact:!0,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.qVT,{className:"w-6 h-6 mr-2"})," Skelefire"]}),t.length>0&&(0,a.jsx)("div",{className:"ml-auto badge border-none badge-accent bg-neutral-content",children:t.length})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/strawberry",exact:!0,children:[(0,a.jsx)(u.CLk,{className:"w-6 h-6 mr-2"})," Strawberry"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/biscotti",exact:!0,children:[(0,a.jsx)(u.e3E,{className:"w-6 h-6 mr-2"})," Biscotti"]})}),(0,a.jsx)("li",{className:"menu-title mt-4 mb-1",children:(0,a.jsx)("span",{children:"Apps"})}),(0,a.jsx)("li",{children:(0,a.jsxs)(b,{href:"/tiramisu",exact:!0,children:[(0,a.jsx)(u.Omh,{className:"w-6 h-6 mr-2"}),"Tiramisu"]})})]}),(0,a.jsxs)("div",{onClick:()=>s(!1),className:"btn btn-ghost flex items-center justify-between m-4",children:[(0,a.jsxs)("div",{children:["collapse ",(0,a.jsx)("span",{className:"hidden md:inline",children:"sidebar"})]}),(0,a.jsx)(x.oMI,{className:"w-6 h-6"})]})]})}function v(e){let{setIsExpanded:s}=e,{activities:t}=(0,d.D)();return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-base-100 rounded-box shadow-lg transform origin-top-left",children:[(0,a.jsxs)("ul",{className:"flex-1 menu rounded-box overflow-y-auto",children:[(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/",exact:!0,children:(0,a.jsx)(o.V9Z,{className:"w-5 h-5 mt-2"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/settings",exact:!0,children:(0,a.jsx)(o.xRF,{className:"w-5 h-5"})})}),(0,a.jsx)("div",{className:"divider my-0"}),(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/skelefire",exact:!0,children:(0,a.jsxs)("div",{className:"indicator",children:[(0,a.jsx)(u.qVT,{className:"w-5 h-5"}),t.length>0&&(0,a.jsx)("div",{className:"indicator-item ml-auto badge border-none badge-accent bg-neutral-content",children:t.length})]})})}),(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/strawberry",exact:!0,children:(0,a.jsx)(u.CLk,{className:"w-5 h-5"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/biscotti",exact:!0,children:(0,a.jsx)(u.e3E,{className:"w-5 h-5"})})}),(0,a.jsx)("div",{className:"divider my-0"}),(0,a.jsx)("li",{children:(0,a.jsx)(b,{href:"/tiramisu",exact:!0,children:(0,a.jsx)(u.Omh,{className:"w-5 h-5"})})})]}),(0,a.jsx)("div",{onClick:()=>s(!0),className:"btn btn-ghost rounded-box",children:(0,a.jsx)(x.i9j,{className:"w-5 h-5"})})]})}var N=t(6501),y=t(3454);function w(e){let{children:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Kokoa"}),(0,a.jsx)("link",{rel:"icon",href:y.env.BACKEND_URL+"/kokoa-favicon.png"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center w-full min-h-screen h-screen bg-neutral",children:[(0,a.jsxs)("div",{className:"w-full flex-1 flex px-4 md:px-8 pt-4 md:pt-8 gap-4 md:gap-6",children:[(0,a.jsx)("aside",{className:"relative",children:(0,a.jsx)(g,{})}),(0,a.jsx)("div",{className:"flex-1 flex flex-col items-center overflow-auto scrollbar scrollbar-hidden",style:{maxHeight:"calc(100vh - 4rem)"},children:(0,a.jsx)("main",{className:"flex w-full flex-1 items-start",children:s})})]}),(0,a.jsx)(N.x7,{position:"bottom-right",toastOptions:{success:{className:"alert alert-success"},error:{style:{background:"red"}}}}),(0,a.jsx)("footer",{className:"flex items-center justify-center w-full h-8 ",children:"\xa9 Caramel Lyth"})]})]})}},9082:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(5893),r=t(7294),n=t(8562),l=t(6501),i=t(7536),c=t(1188);let d=["Asistensi/Tutorial","Mengoreksi","Mengawas","Persiapan Asistensi","Membuat soal/tugas","Rapat","Sit in Kelas","Pengembangan Materi","Pengembangan apps","Persiapan infra","Dokumentasi","Persiapan kuliah","Penunjang","Input Data"];function o(){let{register:e,handleSubmit:s,reset:t}=(0,i.cI)(),{activeCourse:o}=(0,c.Z)(),[u,x]=(0,r.useState)(!1),h=e=>{x(!0),(0,n.m1)({...e,id:o}).then(()=>{t(),l.ZP.success("We here to DROP SOME MONEY\uD83D\uDCB0\uD83D\uDCB5")}).catch(e=>l.ZP.error(e.message)).finally(()=>x(!1))};return(0,a.jsxs)("form",{onSubmit:s(h),className:"form-control flex flex-col gap-3",children:[(0,a.jsxs)("select",{className:"select bg-stone-800 select-sm w-full",...e("category"),children:[(0,a.jsx)("option",{disabled:!0,value:0,children:"Category"}),d.map((e,s)=>(0,a.jsx)("option",{value:s<3?s+1:s+2,children:e},s))]}),(0,a.jsx)("textarea",{...e("description"),className:"textarea h-24 bg-stone-800",placeholder:"Description"}),(0,a.jsx)("input",{type:"date",...e("date"),className:"input flex-1 input-sm bg-stone-800"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)("input",{...e("startTime"),type:"time",className:"input bg-stone-800 pr-2"}),(0,a.jsx)("input",{...e("endTime"),type:"time",className:"input bg-stone-800 pr-2"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-accent ".concat(u&&"loading"),children:u?"":"submit"})]})]})}},4274:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return B}});var a=t(5893),r=t(366),n=t(4955),l=t(7294),i=t(8562);let c=e=>{if(void 0!==e)return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e).replace(/\s/g,"")},d=e=>{let{currentMonthData:{work_hours:s,earnings:t}}=e;return(0,a.jsx)("div",{className:"stats",children:(0,a.jsxs)("div",{className:"stat bg-secondary text-secondary-content",children:[(0,a.jsxs)("div",{className:"stat-value",children:[s," hours"]}),(0,a.jsx)("div",{className:"stat-title",children:"of work done this month"}),(0,a.jsxs)("div",{className:"stat-desc",children:[c(t)," earned"]})]})})},o=e=>{let{stats:{totalEarning:s,totalEarningPaid:t,totalWorkHours:r,workingMonths:n,paidMonths:l}}=e;return(0,a.jsxs)("div",{className:"col-span-3 w-full shadow stats",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:"Total Earnings"}),(0,a.jsx)("div",{className:"stat-value text-primary mb-1",children:c(s)}),(0,a.jsxs)("div",{className:"stat-desc",children:[c(s/n)," monthly average"]})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:"Total Earnings Paid"}),(0,a.jsx)("div",{className:"stat-value text-success mb-1",children:c(t)}),(0,a.jsxs)("div",{className:"stat-desc",children:[c(t/l)," monthly average"]})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsxs)("div",{className:"stat-value",children:[r," hours"]}),(0,a.jsx)("div",{className:"stat-title",children:"of Work Done"}),(0,a.jsxs)("div",{className:"stat-desc text-info",children:[Math.round(r/n*100)/100," hours per Month on average"]})]})]})};var u=t(7516),x=t(3990),h=t(6501),m=t(1188);let j=e=>{let{search:s,setSearch:t,onRefreshLogs:r}=e,{activeCourse:n}=(0,m.Z)(),[c,d]=(0,l.useState)(!1),o=async()=>{d(!0),await (0,i.G)(),h.Am.success("Scraped older logs~"),d(!1)};return(0,a.jsxs)("div",{className:"card-title flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Br8,{className:"w-6 h-6 mr-2"})," Logs",(0,a.jsx)("a",{href:"https://siasisten.cs.ui.ac.id/log/listLogMahasiswa/".concat(n,"/"),target:"_blank",className:"btn btn-sm ml-2 btn-secondary",children:"Live Page"})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"btn btn-ghost ".concat(c?"loading":""),onClick:()=>o(),children:c?"scraping..":"scrape all"}),(0,a.jsx)("div",{className:"btn btn-ghost",onClick:()=>r(),children:"refresh"}),(0,a.jsxs)("div",{className:"relative w-80",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>t(e.target.value),placeholder:"Search by desc, category, date",className:"w-full pr-16 input input-primary input-bordered"}),(0,a.jsx)("button",{className:"absolute top-0 right-0 rounded-l-none btn btn-primary btn-square",children:(0,a.jsx)(u.wTD,{className:"w-6 h-6"})})]})]})]})};var f=t(381),b=t.n(f);let g=e=>{let{start_time:s,end_time:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"badge mr-2 text-white ".concat((()=>{let e=b()(s).format("ddd");switch(e){case"Mon":return"bg-emerald-700";case"Tue":return"bg-teal-700";case"Wed":return"bg-cyan-700";case"Thu":return"bg-sky-700";case"Fri":return"bg-blue-700";case"Sat":return"bg-indigo-700";case"Sun":return"bg-violet-700"}})()),children:b().utc(s).format("ddd")}),(0,a.jsxs)("span",{className:"text-neutral-content",children:[b().utc(s).format("D MMM YYYY")," "]})]}),(0,a.jsxs)("div",{className:"text-center",children:[b().utc(s).utc().format("HH:mm")," -"," ",b().utc(t).utc().format("HH:mm")]})]})},p=e=>{let{start_time:s,end_time:t,work_hours:r,work_earnings:n,category:l,description:i,status:d}=e;return(0,a.jsxs)("tr",{className:"text-stone-400 text-center",children:[(0,a.jsx)("td",{className:"text-left",children:(0,a.jsx)(g,{start_time:s,end_time:t})}),(0,a.jsxs)("td",{children:[r," hrs"]}),(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"badge text-stone-300 ".concat(v[l]),children:l})}),(0,a.jsx)("td",{className:"text-left text-sm",style:{whiteSpace:"normal"},children:i}),(0,a.jsx)("td",{className:"text-right",children:c(n)}),(0,a.jsx)("td",{children:d})]})},v={"Asistensi/Tutorial":"bg-rose-900",Mengoreksi:"bg-pink-900",Mengawas:"bg-fuchsia-900","Persiapan Asistensi":"bg-purple-900","Membuat soal/tugas":"bg-violet-900",Rapat:"bg-amber-900","Sit in Kelas":"bg-orange-900","Pengembangan Materi":"bg-cyan-900","Pengembangan apps":"bg-sky-900","Persiapan infra":"bg-teal-900",Dokumentasi:"bg-emerald-900","Persiapan kuliah":"bg-green-900",Penunjang:"bg-lime-900","Input Data":"bg-yellow-900"},N=e=>{let{logs:s}=e;return(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-center",children:[(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Work Hour"}),(0,a.jsx)("th",{children:"Category"}),(0,a.jsx)("th",{children:"Description"}),(0,a.jsx)("th",{children:"Earning"}),(0,a.jsx)("th",{children:"Status"})]})}),(0,a.jsxs)("tbody",{children:[null==s?void 0:s.map(e=>(0,a.jsx)(p,{...e},e.start_time)),(null==s?void 0:s.length)==0&&"No logs found."]})]})};var y=t(4126);function w(){let e=l.useContext(y.Y);if(void 0===e)throw Error("useStrawberry must be used within a StrawberryProvider");return e}let k=()=>{let{strawberry:{logs:e},dispatch:s}=w(),[t,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(e),[o,u]=(0,l.useState)(""),[x,f]=(0,l.useState)(n.M7),{activeCourse:b}=(0,m.Z)(),g=async()=>{r(!0);let e=await (0,i.at)(b),t=e.data.data;t.sort((e,s)=>e.start_time>s.start_time?-1:1),s({type:"set_logs",payload:t}),h.ZP.success("Logs updated~"),r(!1)};(0,l.useEffect)(()=>{""!==o?d(null==e?void 0:e.filter(e=>e.description.toLowerCase().includes(o)||e.category.toLowerCase().includes(o))):d(e)},[o,e]),(0,l.useEffect)(()=>{let e=async()=>await p(x);e()},[x]);let p=async e=>{r(!0);let t=await (0,i.Qf)(e,n.zs),a=t.data.data;a.sort((e,s)=>e.start_time>s.start_time?-1:1),s({type:"set_logs",payload:a}),r(!1)},v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return(0,a.jsx)("div",{className:"col-span-full card bg-base-100 flex-1",children:t?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("img",{src:"".concat(n.mY,"/kokoa-logo.png"),alt:"loader",className:"animate-pulse"})}):(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)(j,{search:o,setSearch:u,onRefreshLogs:g}),(0,a.jsx)("div",{className:"tabs tabs-boxed bg-base-100",children:Array.from({length:12}).map((e,s)=>(0,a.jsx)("div",{onClick:()=>f(s+1),className:"tab ".concat(x===s+1&&"tab-active"),children:v[s]}))}),(0,a.jsx)(N,{logs:c})]})})};var _=t(2585);function D(){let[e,s]=(0,l.useState)(!1),{dispatch:t}=w(),r=async()=>{s(!0);let e=await (0,i.L)();t({type:"set_listings",payload:e}),s(!1)};return(0,a.jsxs)("div",{className:"card-title flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(_.v6M,{className:"w-6 h-6 mr-2"})," Job Listings",(0,a.jsx)("a",{href:"https://siasisten.cs.ui.ac.id/lowongan/listLowongan/",target:"_blank",className:"btn btn-sm ml-2 btn-secondary",children:"Live Page"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:r,className:"btn btn-sm btn-ghost ".concat(e&&"loading"),children:e?"loading":"refresh"})})]})}var C=t(9583);function S(e){let{status:s}=e;return(0,a.jsx)("div",{className:"badge ".concat((()=>{switch(s){case"direkomendasikan":return"badge-info";case"diterima":return"badge-success";default:return""}})()),children:s})}function M(e){let{listing:s}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"text-left text-stone-400",style:{whiteSpace:"normal"},children:["1"===s.state?(0,a.jsx)("span",{className:"badge badge-secondary text mr-2",children:"updated"}):"2"===s.state?(0,a.jsx)("span",{className:"badge badge-primary mr-2",children:"new"}):"",s.title]}),(0,a.jsx)("td",{className:"text-stone-500",style:{whiteSpace:"normal"},children:s.lecturers}),(0,a.jsx)("td",{className:"text-info",children:s.needed}),(0,a.jsx)("td",{className:"text-primary",children:s.applied}),(0,a.jsx)("td",{className:"text-success",children:s.accepted}),(0,a.jsx)("td",{children:"-------"!==s.status&&(0,a.jsx)(S,{status:s.status})})]})}function E(){let{strawberry:{listings:e},dispatch:s}=w(),[t,r]=(0,l.useState)(""),[i,c]=(0,l.useState)(e);return(0,l.useEffect)(()=>{""!==t?c(e.filter(e=>e.title.toLowerCase().includes(t))):c(e)},[t,e]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"form-control mb-2 flex",children:(0,a.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D Search",value:t,onChange:e=>r(e.target.value),className:"w-full input input-primary input-bordered input-sm"})}),(0,a.jsxs)("table",{className:"table table-fixed w-full text-center relative",children:[(0,a.jsx)("thead",{className:"sticky top-0 z-20",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-5/12 cursor-pointer hover:text-amber-300",onClick:()=>s({type:"sort_by_course_name"}),children:"Course"}),(0,a.jsx)("th",{className:"w-3/12",children:"Lecturer"}),(0,a.jsx)("th",{onClick:()=>s({type:"sort_by_needed"}),className:"w-1/12 text-info cursor-pointer hover:text-amber-300",children:(0,a.jsx)(C.Xws,{className:"w-4 h-4 mx-auto"})}),(0,a.jsx)("th",{onClick:()=>s({type:"sort_by_applied"}),className:"w-1/12 text-primary cursor-pointer hover:text-amber-300",children:(0,a.jsx)(C.I$,{className:"w-4 h-4 mx-auto"})}),(0,a.jsx)("th",{onClick:()=>s({type:"sort_by_accepted"}),className:"w-1/12 text-success cursor-pointer hover:text-amber-300",children:(0,a.jsx)(C.TZR,{className:"w-4 h-4 mx-auto"})}),(0,a.jsx)("th",{onClick:()=>s({type:"sort_by_status"}),className:"w-1/12 cursor-pointer hover:text-amber-300",children:"Status"})]})}),0!=i.length&&(0,a.jsx)("tbody",{children:i.map(e=>(0,a.jsx)(M,{listing:e},e.url))})]}),0==i.length&&(0,a.jsx)("div",{className:"w-full pt-6 flex justify-center",children:(0,a.jsx)("img",{src:"".concat(n.mY,"/empty-inbox.svg"),alt:"empty",className:"h-60"})})]})}function P(){let[e,s]=(0,l.useState)(!0),{dispatch:t}=w();return(0,l.useEffect)(()=>{let e=async()=>{let e=await (0,i.L)();t({type:"set_listings",payload:e}),s(!1)};e()},[]),(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsx)("div",{className:"card bg-base-100 flex-1",children:e?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("img",{src:"".concat(n.mY,"/kokoa-logo.png"),alt:"loader",className:"animate-pulse"})}):(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)(D,{}),(0,a.jsx)(E,{})]})})})}let A=e=>{let{tab:s,setTab:t}=e;return(0,a.jsx)("div",{className:"flex-1 flex items-end",children:(0,a.jsxs)("div",{className:"btn-group w-full",children:[(0,a.jsx)("div",{className:"flex-1 btn ".concat(s?"bg-base-100":"btn-primary"),onClick:()=>t(0),children:"Logs"}),(0,a.jsx)("div",{className:"flex-1 btn ".concat(s?"btn-primary":"bg-base-100"),onClick:()=>t(1),children:"Job Listings"})]})})};var L=t(9082);function T(){let{courseData:e,activeCourse:s,setActiveCourse:t}=(0,m.Z)(),[r,n]=(0,l.useState)();return(0,l.useEffect)(()=>{var t;n(null!==(t=e.find(e=>e.id==s))&&void 0!==t?t:null)},[s]),(0,a.jsx)("div",{className:"card bg-base-100",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"card-title flex justify-between items-center",children:[(0,a.jsx)("div",{children:"Quickadd Log"})," ",(0,a.jsx)("a",{href:"https://scele.cs.ui.ac.id/course/view.php?id=".concat(null==r?void 0:r.sceleId),target:"_blank",children:(0,a.jsx)("div",{className:"badge badge-accent",children:null==r?void 0:r.name})})]}),(0,a.jsxs)("select",{name:"activeCourse",defaultValue:s.toString(),onChange:e=>t(parseInt(e.target.value)),className:"bg-neutral select mb-4",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select course"}),e.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsx)(L.Z,{})]})})}let I=e=>{let{currentMonthData:s,tab:t,setTab:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(T,{}),(0,a.jsx)(d,{currentMonthData:s}),(0,a.jsx)(A,{tab:t,setTab:r})]})},Z=e=>{let{years:s,year:t,setYear:r}=e;return(0,a.jsx)("div",{className:"btn-group mb-4",children:s.map(e=>(0,a.jsx)("div",{className:"btn btn-sm ".concat(e===t?"btn-primary":"btn-secondary"),onClick:()=>r(e),children:e},e))})};var Y=t(8193),J=t(155);let F=e=>{let{id:s}=e,[t,r]=(0,l.useState)(),[n,c]=(0,l.useState)(!1),{dispatch:d}=w(),o=async e=>{e.preventDefault(),c(!0),await (0,i.Zs)(s,{is_paid:!0,paid_on:t}),d({type:"set_payday",payload:{id:s,date:t}}),h.ZP.success("Yay payday!"),c(!1)};return(0,a.jsxs)("div",{className:"dropdown dropdown-end text-left",children:[(0,a.jsx)("div",{tabIndex:0,className:"btn btn-xs btn-ghost",children:(0,a.jsx)(J.E_l,{})}),(0,a.jsxs)("ul",{tabIndex:0,className:"p-4 shadow-lg dropdown-content text-primary-content bg-primary rounded-box w-72",style:{whiteSpace:"normal"},children:[(0,a.jsx)("span",{className:"font-bold",children:"I received this month's payment on"}),(0,a.jsxs)("form",{onSubmit:e=>o(e),className:"flex flex-col",children:[(0,a.jsx)("input",{type:"date",className:"input mt-2 bg-stone-200 w-full",value:t,onChange:e=>r(e.target.value)}),(0,a.jsxs)("button",{type:"submit",className:"btn btn-sm self-end mt-2 ".concat(n&&"loading"),onClick:o,children:["submit",n&&"ting"]})]})]})]})},R=()=>{let{strawberry:{reports:e}}=w();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("table",{className:"table table-compact text-center",children:[(0,a.jsxs)("thead",{children:[(0,a.jsx)("th",{children:"month"}),(0,a.jsx)("th",{children:"work hour"}),(0,a.jsx)("th",{children:"earning"}),(0,a.jsx)("th",{children:"net earning"}),(0,a.jsx)("th",{children:"status"}),(0,a.jsx)("th",{children:"paid on"}),(0,a.jsx)("th",{})]}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.month}),(0,a.jsxs)("td",{className:"flex items-center gap-1 text-sky-700 flex-1 ml-2",children:[(0,a.jsx)(Y.Gtc,{}),e.work_hours," hr"]}),(0,a.jsx)("td",{className:"text-stone-400 text-right",children:c(e.earnings)}),(0,a.jsx)("td",{className:"text-stone-400 text-right",children:e.earnings>0?c(e.earnings-2900):c(e.earnings)}),(0,a.jsx)("td",{className:"text-center",children:e.is_paid?(0,a.jsx)("div",{className:"badge badge-success",children:"paid"}):(0,a.jsx)("div",{className:"badge",children:"unpaid"})}),(0,a.jsx)("td",{children:e.paid_on&&b()(e.paid_on).format("D MMM YYYY")}),(0,a.jsx)("td",{className:"text-right",children:(0,a.jsx)(F,{id:e.report_id})})]},e.report_id))})]})})};var O=t(5376),W=t(6775);W.kL.register(W.uw,W.f$,W.od,W.jn,W.Dx,W.u,W.De);let z=e=>{let{year:s,data:t}=e;return(0,a.jsx)(O.x1,{options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,color:"white",text:"Monthly Earning Report of ".concat(s)}}},data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:s,data:t,borderColor:"#ffffff",backgroundColor:"#ffffff"}]}})},H=e=>{let{isFetching:s,year:t,setYear:r,refreshYearlyEarning:i}=e,{strawberry:{reports:c}}=w(),d=c.map(e=>e.earnings),[o,x]=(0,l.useState)("chart"),h=Array.from({length:n.zs-2019}).map((e,s)=>2020+s);return(0,a.jsx)("div",{className:"card bg-base-100 col-span-2 overflow-visible",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"card-title flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.ok1,{className:"w-6 h-6 mr-2"})," Statistics"]}),(0,a.jsxs)("div",{className:"btn-group",children:[(0,a.jsx)("div",{className:"btn ".concat("chart"===o&&"btn-primary"),onClick:()=>x("chart"),children:"Summary"}),(0,a.jsx)("div",{className:"btn ".concat("detailed"===o&&"btn-primary"),onClick:()=>x("detailed"),children:"Detailed"})]}),(0,a.jsx)("button",{onClick:()=>i(),className:"btn btn-sm btn-ghost ".concat(s&&"loading"),children:s?"loading":"refresh"})]}),(0,a.jsx)(Z,{years:h,year:t,setYear:r}),"chart"===o?(0,a.jsx)(z,{year:t,data:d}):(0,a.jsx)(R,{})]})})};function V(){let[e,s]=(0,l.useState)(!0),[t,r]=(0,l.useState)(n.zs),[c,d]=(0,l.useState)(0),[u,x]=(0,l.useState)({}),{strawberry:{logs:h,reports:m},dispatch:j}=w();(0,l.useEffect)(()=>{d("true"==localStorage.getItem("strawberry_is_working")?0:1)},[]),(0,l.useEffect)(()=>{let e=async()=>{let{data:e}=await (0,i.MF)(n.M7,n.zs);x(e)};e()},[h]),(0,l.useEffect)(()=>{f()},[h,t]);let f=async()=>{s(!0);let{data:e}=await (0,i.tZ)(t);j({type:"set_reports",payload:e.data}),s(!1)};return(0,a.jsxs)("div",{className:"grid grid-dense grid-cols-3 grid-rows-1 gap-4 w-full h-full",children:[(0,a.jsx)(o,{stats:(()=>{let e=m.filter(e=>e.earnings>0),s=e.filter(e=>e.is_paid);return{totalEarning:e.reduce((e,s)=>e+s.earnings-2900,0),totalEarningPaid:s.reduce((e,s)=>e+s.earnings-2900,0),totalWorkHours:m.reduce((e,s)=>e+s.work_hours,0),workingMonths:e.length||1,paidMonths:s.length||1}})()}),(0,a.jsx)(I,{currentMonthData:u,tab:c,setTab:d}),(0,a.jsx)(H,{isFetching:e,year:t,setYear:r,refreshYearlyEarning:f}),c?(0,a.jsx)(P,{}):(0,a.jsx)(k,{})]})}function B(){return(0,a.jsx)(r.Z,{children:(0,a.jsx)(V,{})})}},3780:function(e,s,t){"use strict";t.d(s,{Tw:function(){return i},az:function(){return c},fp:function(){return o},ir:function(){return l},zJ:function(){return d}});var a=t(9669),r=t.n(a),n=t(4955);function l(){return r().get("".concat(n.T5,"/skelefire/"))}function i(){return r().get("".concat(n.T5,"/skelefire/courses/"))}function c(){return r().get("".concat(n.T5,"/skelefire/activities/"))}function d(e){return r().patch("".concat(n.T5,"/skelefire/activities/").concat(e,"/mark_as_read/"))}function o(e){return r().patch("".concat(n.T5,"/skelefire/activities/mark_selected_as_read/"),{ids:e})}},9121:function(e,s,t){"use strict";t.d(s,{D:function(){return l}});var a=t(6501),r=t(3780),n=t(4529);let l=(0,n.Ue)()((e,s)=>({courses:[],activities:[],isActive:!1,togglePower:t=>e({isActive:!s().isActive}),setCourses:s=>e({courses:s}),setActivities:s=>e({activities:s}),countUnreadActivities:()=>e({courses:s().courses.map(e=>({...e,unread:s().activities.filter(s=>s.course===e.courseID).length}))}),markAsRead:t=>{1==t.length?(0,r.zJ)(t[0]):(0,r.fp)(t),a.Am.success("".concat(t.length," activity(s) marked as read!")),e({activities:s().activities.filter(e=>!t.includes(e.moduleID))})}}))},1188:function(e,s,t){"use strict";var a=t(4529),r=t(4466);let n=(0,a.Ue)()((0,r.tJ)((e,s)=>({courseData:[],activeCourse:0,isWorking:!0,setCourseData:s=>e({courseData:s}),addCourseData:t=>e({...s(),courseData:[...s().courseData,t]}),removeCourseData:t=>e({courseData:s().courseData.filter(e=>e.id!=t)}),setActiveCourse:s=>e({activeCourse:s}),setIsWorking:s=>e({isWorking:s})}),{name:"strawberry-storage"}));s.Z=n}},function(e){e.O(0,[980,617,955,874,885,609,757,260,445,821,536,389,774,888,179],function(){return e(e.s=4433)}),_N_E=e.O()}]);