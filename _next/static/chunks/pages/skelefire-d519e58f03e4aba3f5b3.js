(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{8914:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(5893),s=n(9835),c=n(6156),o=n(18),i=n(7294),a=n(2713),u=n(2562),l=n(4168),f=n(1486),d=n(4707),b=n(8889);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){var e=(0,i.useState)(!0),t=e[0],n=e[1],s=(0,i.useState)("All"),c=s[0],h=s[1],p=(0,i.useState)([]),v=p[0],O=p[1],x=(0,i.useContext)(b.g),g=x.skelefire,w=x.setCourses,y=x.setActivities,m=x.countUnreadActivities;(0,i.useEffect)((function(){0==g.courses.length?(console.log("useeffects"),(0,d.Tw)().then((function(e){w(e.data),(0,d.az)().then((function(e){y(e.data),O(e.data),m(),n(!1)}))}))):n(!1)}),[]),(0,i.useEffect)((function(){_(c),m()}),[g.activities]);var _=function(e){var t,n=(null===(t=g.courses.find((function(t){return t.shortname===e})))||void 0===t?void 0:t.courseID)||0;h(e),O(g.activities.filter((function(e){return!n||e.course===n})))},k=[{shortname:"All"}].concat((0,o.Z)(g.courses));return t?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("img",{src:"/kokoa-dashboard/kokoa-logo.png",alt:"loader",className:"animate-pulse"})}):(0,r.jsxs)("div",{className:"w-full flex flex-col space-y-4 h-full",children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)("div",{className:"flex-1 card bg-base-100 shadow-lg w-full",children:(0,r.jsxs)("div",{className:"card-body flex flex-col gap-3",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(f.Z,j({},{coursesTabs:k,activeTab:c,onTabChange:_})),(0,r.jsx)(u.Z,{activities:v})]})})]})}function v(){return(0,r.jsx)(s.Z,{children:(0,r.jsx)(p,{})})}},472:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/skelefire",function(){return n(8914)}])}},function(e){e.O(0,[980,415,617,955,885,876,841,823,774,888,179],(function(){return t=472,e(e.s=t);var t}));var t=e.O();_N_E=t}]);